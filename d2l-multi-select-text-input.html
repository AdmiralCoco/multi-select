<link rel="import" href="../polymer/polymer-element.html">
<link rel="import" href="../d2l-text-input/d2l-text-input.html">

<dom-module id="d2l-multi-select-text-input">
	<template strip-whitespace>
		<style>
			:host {
				display: flex;
				flex-direction: column;
			}

			d2l-text-input {
				width: 100%;
				padding-top: 0.5rem;
			}
		</style>

		<d2l-multi-select-input id="d2l-multi-select-input">
			<slot></slot>
			<d2l-text-input slot="input" value={{value}} on-keydown="_onKeyDown"></d2l-text-input>
		</d2l-multi-select-input>

	</template>
	<script>
		/**
		 * `<d2l-multi-select-text-input>`
		 * Polymer-based web component for D2L multi-select-text-input
		 * @demo demo/index.hmtl
		 */
		class D2LMultiSelectTextInput extends Polymer.Element {
			static get is() { return 'd2l-multi-select-text-input'; }
			static get properties() {
				return {
					/**
					* Value of the d2l-text-input
					*/
					value: {
						type: String,
						value: ''
					}
				};
			}
			constructor() {
				super();
			}

			_onKeyDown(event) {
				if (event.keyCode === 13 && this.value) {
					this.$['d2l-multi-select-input'].addItem(this.value, this);
					this.value = '';
				}
			}
		}
		customElements.define(D2LMultiSelectTextInput.is, D2LMultiSelectTextInput);
	</script>
</dom-module>
